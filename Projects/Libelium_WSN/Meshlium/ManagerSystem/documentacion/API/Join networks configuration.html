<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Join networks configuration</title></head><body>
<h1>Join networks configuration</h1>
<div class="cleaner"></div> <div class=" margin-onda_msystem">     <div style="background: #ededed; width: 90px; padding-right: 5px;"class="fright borde_simple borde_redondo_5">         <br>         <a  href="http://www.libelium.com/development/meshlium/msystem-index" class="fright" >             Back to top         </a>         <div class="engranaje_devel fright"></div>         <div class="cleaner"></div>         <br>     </div> </div> <div class="cleaner"></div> <div class="ondaSupp margin-onda_msystem2"></div> <h2 class="font_red grande">save_join($join,$conf_file='',$rules_file='')</h2>
<p>
Meshlium provides several interfaces that can be joined to allow that
networks on interface A can reach networks on interface B. Save_join
function is used to write a file that will configure meshlium to allow
those interface joins, and calls write_rule to save the new rule for manager
system usage.<br>
$join should be a vector where it's components are numered from 0 to
2, rules are defined on positions [0][1][2]. The rules should contain on first and
last component the interfaces name, and in the second component the
rule that can have values:<br>
Right: first interface can reach second interface only.<br>
Bidirectional: Both interfaces can reach eachother.<br>
Left: second interface can reach first interface only.
</p>
<p>
The function has no return.<br>
</p>
<p>
File location: API/save_join_new.php<br>
</p>
<p>
Example of use:<br />
<code><pre class="devel">
$rule=array('eth0','Bidirectional','ath0');
save_join($rule);
</pre><br></code>
</p>

<div class="cleaner"></div> <div class=" margin-onda_msystem">     <div style="background: #ededed; width: 90px; padding-right: 5px;"class="fright borde_simple borde_redondo_5">         <br>         <a  href="http://www.libelium.com/development/meshlium/msystem-index" class="fright" >             Back to top         </a>         <div class="engranaje_devel fright"></div>         <div class="cleaner"></div>         <br>     </div> </div> <div class="cleaner"></div> <div class="ondaSupp margin-onda_msystem2"></div> <h2 class="font_red grande">write_rule($join,$base,$fp)</h2>
<p>
Write_join function is used to write a new rule to a configuration file
that will be used by meshlium to allow those interface joins.<br>
$join should be a vector where it's components are numered from 0 to
2, rules are defined on positions [0][1][2]. The rules should contain on first and
last component the interfaces name, and in the second component the
rule that can have values:<br>
Right: first interface can reach second interface only.<br>
Bidirectional: Both interfaces can reach eachother.<br>
Left: second interface can reach first interface only.<br />
$base can have a pointer to the first element on the $join vector. This is a feature that<br />
can be used by advanced developers to minify the memory comsumption when they need to iterate on several<br />
rules on one vector, by default should contain value 0.
$fp should be the file descriptor of the file that will contain the rules.
</p>
<p>
The function has no return.<br>
</p>
<p>
File location: API/save_join_new.php<br>
</p>
<p>
Example of use:<br />
<code><pre class="devel">
$rule=array('eth0','Bidirectional','ath0');
$fp=fopen($base_plugin.'data/join','w');
write_rule($join,0,$fp);
</pre><br></code>
</p>

<div class="cleaner"></div> <div class=" margin-onda_msystem">     <div style="background: #ededed; width: 90px; padding-right: 5px;"class="fright borde_simple borde_redondo_5">         <br>         <a  href="http://www.libelium.com/development/meshlium/msystem-index" class="fright" >             Back to top         </a>         <div class="engranaje_devel fright"></div>         <div class="cleaner"></div>         <br>     </div> </div> <div class="cleaner"></div> <div class="ondaSupp margin-onda_msystem2"></div> <h2 class="font_red grande">delete_join_rule($rule_number,$conf_file='',$rules_file='')</h2>
<p>
delete_join_rule function will delete a rule from the configuration files on meshlium.<br />
Function should be called with the possition of the rule to delete. A custom configuration file
and custom rules file can be passed to function as optional arguments.
</p>
<p>
The function has no return.<br>
</p>
<p>
File location: API/save_join_new.php<br>
</p>
<p>
Example of use:<br />
<code><pre class="devel">
$rule=array('eth0','Bidirectional','ath0');
save_rule($join);
delete_join_rule(0);
</pre><br></code>
</p>

</body></html>