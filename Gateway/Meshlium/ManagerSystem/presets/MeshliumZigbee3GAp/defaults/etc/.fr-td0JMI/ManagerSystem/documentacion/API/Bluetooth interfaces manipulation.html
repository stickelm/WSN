<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Bluetooth interfaces manipulation</title></head><body>
<h1>Bluetooth interfaces manipulation</h1>
<div class="cleaner"></div> <div class=" margin-onda_msystem">     <div style="background: #ededed; width: 90px; padding-right: 5px;"class="fright borde_simple borde_redondo_5">         <br>         <a  href="http://www.libelium.com/development/meshlium/msystem-index" class="fright" >             Back to top         </a>         <div class="engranaje_devel fright"></div>         <div class="cleaner"></div>         <br>     </div> </div> <div class="cleaner"></div> <div class="ondaSupp margin-onda_msystem2"></div> <h2 class="font_red grande">hciconfig_parser()</h2>
<p>
This function parses in real time hciconfig output and generate an
array with the information about the bluetooth interfaces and it's
configuration. Data parsed is address, antenna name and antenna state.<br>
The function will return an array with all the bluetooth interfaces state.
</p>

<p>
File location: API/parser_hciconfig.php
</p>
<p>
Example of use:<br>
<code>
$hciconfig=hciconfig_parser();<br>
echo "hci0 address is: ".$hciconfig[0]['address'];<br>
</code>
</p>
<div class="cleaner"></div> <div class=" margin-onda_msystem">     <div style="background: #ededed; width: 90px; padding-right: 5px;"class="fright borde_simple borde_redondo_5">         <br>         <a  href="http://www.libelium.com/development/meshlium/msystem-index" class="fright" >             Back to top         </a>         <div class="engranaje_devel fright"></div>         <div class="cleaner"></div>         <br>     </div> </div> <div class="cleaner"></div> <div class="ondaSupp margin-onda_msystem2"></div> <h2 class="font_red grande">parse_hcid($read_file='')</h2>
<p>
This function parses a hcid configuration file. A path to the hcid
config file can be setted as an argument with $read_file variable. If
$read_file variable is not provided or is empty, parse_hcid will check
for data/hcid.conf file on the plugin folder.
</p>

<p>
The function will return an array with the configuration of the hcid file.
</p>
<p>
File location: API/parser_hcid.php
</p>
<p>
Example of use:<br>
<code>
$hcid_conf=parse_hcid('/etc/bluetooth/hcid.conf');<br>
if($hcid_conf['iscan']=='enable')<br>
{<br>
    echo "Bluetooth iscan is enabled";<br>
}<br>
</code>
</p>
<div class="cleaner"></div> <div class=" margin-onda_msystem">     <div style="background: #ededed; width: 90px; padding-right: 5px;"class="fright borde_simple borde_redondo_5">         <br>         <a  href="http://www.libelium.com/development/meshlium/msystem-index" class="fright" >             Back to top         </a>         <div class="engranaje_devel fright"></div>         <div class="cleaner"></div>         <br>     </div> </div> <div class="cleaner"></div> <div class="ondaSupp margin-onda_msystem2"></div> <h2 class="font_red grande">save_hcid($hci_config,$save_file='')</h2>
<p>
This function saves to a file the content of a configuration array
passed in the variable $hci_config. The path to the file to save can be
passed with the $save_file variable. If $save_file is empty or not
setted the file will be saved on data/new_hcid.conf on the plugin
folder.<br>
Apache should be able to write on $save_file path or in the data folder within the plugin folder.
</p>

<p>
The does not have any return.
</p>
<p>
File location: API/save_hcid.php
</p>
<p>
Example of use:<br>
<code>
$hcid_configuration=jsondecode($_POST['form_fields']);<br>
save_hcid($hcid_configuration,$base_plugin.'data/hcid.conf');<br>
</code>
</p>
<div class="cleaner"></div> <div class=" margin-onda_msystem">     <div style="background: #ededed; width: 90px; padding-right: 5px;"class="fright borde_simple borde_redondo_5">         <br>         <a  href="http://www.libelium.com/development/meshlium/msystem-index" class="fright" >             Back to top         </a>         <div class="engranaje_devel fright"></div>         <div class="cleaner"></div>         <br>     </div> </div> <div class="cleaner"></div> <div class="ondaSupp margin-onda_msystem2"></div> <h2 class="font_red grande">hciconfig_parser()</h2>
<p>
This function returns an array with information parsed from the output of the hciconfig command.
</p>
<p>
File location: API/parser_hciconfig.php
</p>
<p>
Example of use:<br>
<pre class="devel">
<code>
$hciconfig=hciconfig_parser();
</code>
</pre><br>
</p>
</body></html>